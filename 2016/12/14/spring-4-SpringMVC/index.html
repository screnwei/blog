<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>4-spring-SpringMVC | 十年磨剑</title>
  <meta name="author" content="任伟">
  
  <meta name="description" content="Spring MVC1、Spring MVC概述Spring MVC框架围绕DispatcherServlet这个核心展开，DispatcherServlet负责截获请求并将其分配给响应的处理器处理。Spring MVC框架包括注解驱动控制器、请求及响应的信息处理、视图解析、本地化解析、上传文件解析、异常处理以及表单标签绑定等内容。">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="4-spring-SpringMVC"/>
  <meta property="og:site_name" content="十年磨剑"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/blog/favicon.png" rel="icon">
  <link rel="alternate" href="/blog/atom.xml" title="十年磨剑" type="application/atom+xml">
  <link rel="stylesheet" href="/blog/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/blog/">十年磨剑</a></h1>
  <h2><a href="/blog/">十年磨一剑，一朝试锋芒</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/blog//">首页</a></li>
    
      <li><a href="/blog//archives">归档</a></li>
    
      <li><a href="/blog//about">关于</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-12-14T07:31:07.000Z"><a href="/blog/2016/12/14/spring-4-SpringMVC/">2016-12-14</a></time>
      
      
  
    <h1 class="title">4-spring-SpringMVC</h1>
  

    </header>
    <div class="entry">
         <!--02-->
        <div id="toc" class="toc-article">
    <div class="toc-title">目录</div>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring-MVC"><span class="toc-text">Spring MVC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、Spring-MVC概述"><span class="toc-text">1、Spring MVC概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、注解驱动的控制器"><span class="toc-text">2、注解驱动的控制器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1、使用-RequestMapping映射请求"><span class="toc-text">2.1、使用@RequestMapping映射请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2、请求处理方法签名"><span class="toc-text">2.2、请求处理方法签名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3、使用HttpMessageConverter"><span class="toc-text">2.3、使用HttpMessageConverter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4、处理模型数据"><span class="toc-text">2.4、处理模型数据</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、处理方法的数据绑定"><span class="toc-text">3、处理方法的数据绑定</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1、数据转换"><span class="toc-text">3.1、数据转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2、数据格式化"><span class="toc-text">3.2、数据格式化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3、数据校验"><span class="toc-text">3.3、数据校验</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、视图和视图解析器"><span class="toc-text">4、视图和视图解析器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1、视图解析器"><span class="toc-text">4.1、视图解析器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2、JSP和JSTL"><span class="toc-text">4.2、JSP和JSTL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3、-模板视图"><span class="toc-text">4.3、 模板视图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4、Excel"><span class="toc-text">4.4、Excel</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-5、PDF"><span class="toc-text">4.5、PDF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-6、输出XML"><span class="toc-text">4.6、输出XML</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-7、-输出JSON"><span class="toc-text">4.7、 输出JSON</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-8、混合使用多种视图技术"><span class="toc-text">4.8、混合使用多种视图技术</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5、本地化解析"><span class="toc-text">5、本地化解析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6、文件上传"><span class="toc-text">6、文件上传</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7、杂项"><span class="toc-text">7、杂项</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1、静态资源处理"><span class="toc-text">7.1、静态资源处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2、装配拦截器"><span class="toc-text">7.2、装配拦截器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-3、异常处理"><span class="toc-text">7.3、异常处理</span></a></li></ol></li></ol></li></ol>
</div>

      
        <h2 id="Spring-MVC"><a href="#Spring-MVC" class="headerlink" title="Spring MVC"></a>Spring MVC</h2><h3 id="1、Spring-MVC概述"><a href="#1、Spring-MVC概述" class="headerlink" title="1、Spring MVC概述"></a>1、Spring MVC概述</h3><p>Spring MVC框架围绕DispatcherServlet这个核心展开，DispatcherServlet负责截获请求并将其分配给响应的处理器处理。Spring MVC框架包括注解驱动控制器、请求及响应的信息处理、视图解析、本地化解析、上传文件解析、异常处理以及表单标签绑定等内容。</p>
<a id="more"></a>
<h3 id="2、注解驱动的控制器"><a href="#2、注解驱动的控制器" class="headerlink" title="2、注解驱动的控制器"></a>2、注解驱动的控制器</h3><h4 id="2-1、使用-RequestMapping映射请求"><a href="#2-1、使用-RequestMapping映射请求" class="headerlink" title="2.1、使用@RequestMapping映射请求"></a>2.1、使用@RequestMapping映射请求</h4><ul>
<li>通过请求URL进行映射<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@RequestMapping(&quot;/user/register&quot;)</div></pre></td></tr></table></figure>
</li>
</ul>
<p><br><br>@RequestMpping不但支持标准的URL，还支持Ant风格（即?、<em>和*</em>的字符）的和带{xxx}占位符的URL，可以通过@ParhVariable将URL中的占位符参数绑定到控制器处理方法的入参中。</p>
<ul>
<li>通过请求参数、请求方法或请求头进行映射<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@RequestMapping(value=&quot;/delete&quot;, method=RequestMethod.POST, params=&quot;userId&quot;, headers=&quot;content-type=text/*&quot;)</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2-2、请求处理方法签名"><a href="#2-2、请求处理方法签名" class="headerlink" title="2.2、请求处理方法签名"></a>2.2、请求处理方法签名</h4><ul>
<li><p>使用@RequestParam绑定请求参数值<br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">public String handle(@RequestParam(value=&quot;userName&quot;, required=false))</div></pre></td></tr></table></figure>
</li>
<li><p>使用@CookieValue绑定请求中的Cookie值<br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">public String handle(@CookieValue(value=&quot;sessionId&quot;, required=false))</div></pre></td></tr></table></figure>
</li>
<li><p>使用@RequestHeader绑定请求报文头的属性值<br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">public String handle(@RequestHeader(&quot;Accept-Encoding&quot;) String encoding, @RequestHeader(&quot;Keep-Alive&quot;)long keepAlive)</div></pre></td></tr></table></figure>
</li>
<li><p>使用命令/表单对象绑定请求参数值<br><br>/handle.html?userName=tom&amp;userAge=12<br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Public String handle(User user)</div></pre></td></tr></table></figure>
</li>
<li><p>使用Servlet API对象作为入参<br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">public void handle(HttpServletRequest req, HttpServletResponse resp)</div></pre></td></tr></table></figure>
</li>
<li><p>使用Spring MVC自定义的可代理Servlet原生API类的接口<br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">public String handle(WebRequest req)</div></pre></td></tr></table></figure>
</li>
<li><p>使用IO对象作为入参<br><br>Spring MVC可以获取ServletRequest的InputStream/Reader或者ServletRespons的OutputStream/Writer，然后传给控制器的处理方法<br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">public void handle(OutputStream os)</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2-3、使用HttpMessageConverter"><a href="#2-3、使用HttpMessageConverter" class="headerlink" title="2.3、使用HttpMessageConverter"></a>2.3、使用HttpMessageConverter<t></t></h4><ul>
<li><p>HttpMessageConverter<t>是Spring 3.0新添加的一个重要的接口，它负责将请求信息转换为一个对象（类型为T），将对象（类型为T）输出为响应信息。<br></t></p>
</li>
<li><p>如果在Spring web容器中显式定义了一个AnnotationMethodHandlerAdapter，则Spring MVC将使用它覆盖默认的AnnotationMethodHandlerAdapter。<br></p>
</li>
<li><p>使用途径：<br><br>1、使用@RequestBody/@ResponseBody对处理方法进行标注；<br><br>2、使用@HttpEntity<t>/ResponsEntity<t>作为处理方法的入参或者返回值；</t></t></p>
</li>
</ul>
<h4 id="2-4、处理模型数据"><a href="#2-4、处理模型数据" class="headerlink" title="2.4、处理模型数据"></a>2.4、处理模型数据</h4><p>Spring MVC提供了多种途径将模型数据暴露给视图<br></p>
<ul>
<li>ModelAndView：处理方法返回值类型为ModelAndView时，方法体即可通过该对象添加模型数据；<br></li>
<li>@ModelAttribute：方法入参标注该注解后，入参的对象就会放到数据模型中；<br></li>
<li>Map 及 Model：入参为org.springframework.ui.Model、org.springframework.ui.ModelMap或java.util.Map时，处理方法返回时，Map中的数据会自动添加到模型中；<br></li>
<li>@SessionAttributes：将模型中的某个属性暂存到HttpSession中，以便多个请求之间共享这个属性；<blockquote>
<p>控制器方法返回字符串类型的值会被当成逻辑视图名处理。当字符串带”forward”或”redirect”前缀时，redirect会让浏览器发起一个新的请求，而forward所到的目标地址位于当前请求中。</p>
</blockquote>
</li>
</ul>
<h3 id="3、处理方法的数据绑定"><a href="#3、处理方法的数据绑定" class="headerlink" title="3、处理方法的数据绑定"></a>3、处理方法的数据绑定</h3><p>Spring MVC会根据请求方法签名的不同，将请求消息中的消息以一定的方式转换并绑定到请求方法的入参中。在请求消息到达真正调用处理方法的这一段时间内，Spring MVC还完成了很多工作，包括数据转换、数据格式化及数据校验等。</p>
<h4 id="3-1、数据转换"><a href="#3-1、数据转换" class="headerlink" title="3.1、数据转换"></a>3.1、数据转换</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">//自定义转换器 &lt;userName&gt;:&lt;password&gt;:&lt;realName&gt; -&gt; UserObject</div><div class="line">public class StringToUserConverter implements Converter&lt;String, User &gt;&#123;...&#125;</div><div class="line">//将StringToUserConverter安装到Spring上下文中</div><div class="line">&lt;beans ...&gt;</div><div class="line">	&lt;mvc:annotation-drever conversion-service=&quot;conversionService&quot;&gt;</div><div class="line">	&lt;bean id=&quot;conversionService&quot; class=&quot;org.springframework.context.support.ConversionServiceFactorybean&quot;&gt;</div><div class="line">	&lt;property name=&quot;converters&quot;&gt;&lt;list&gt;</div><div class="line">		&lt;bean class=&quot;...StringToUserConverter&quot;/&gt;</div><div class="line">	&lt;/list&gt;&lt;/property&gt;</div><div class="line">	&lt;/bean&gt;</div><div class="line">&lt;/beans&gt;</div><div class="line">//使用StringToUserConverter</div><div class="line">@ReqquestMapping(value=&quot;&quot;)</div><div class="line">public String handle(@RequestParam(&quot;user&quot;) User user)</div><div class="line">//url</div><div class="line">xxx.html?user=tom:1234:jacktion</div></pre></td></tr></table></figure>
<h4 id="3-2、数据格式化"><a href="#3-2、数据格式化" class="headerlink" title="3.2、数据格式化"></a>3.2、数据格式化</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//将FormattingConversionServiceFactoryBean安装到Spring上下文中</div><div class="line">org.springframework.format.support.FormattingConversionServiceFactoryBean</div><div class="line">//使用注解驱动格式化功能</div><div class="line">@DateTimeFormat(pattern=&quot;yyyy-MM-dd&quot;)</div><div class="line">private Date birthday;</div></pre></td></tr></table></figure>
<p>Spring 提供了注解驱动的属性对象格式化功能：在Bean属性设置、Spring MVC处理方法入参数据绑定、模型数据输出时自动通过注解应用格式化的功能。</p>
<h4 id="3-3、数据校验"><a href="#3-3、数据校验" class="headerlink" title="3.3、数据校验"></a>3.3、数据校验</h4><p>JSR 303是Java为Bean数据合法性校验所提供的标准框架，它已经包含在Java EE6.0中。<br></p>
<ul>
<li>Spring校验框架 LocalValidatorFactoryBean即实现了Spring的Validator接口，也实现了JSR303的Validator接口。<br></li>
<li>Spring MVC数据校验,在表单/命令对象标注JSR303注解<br></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">@Pattern(regexp=&quot;&quot;);//正则表达式</div><div class="line">private String userName;</div><div class="line">@Length(min=2, max=100)//字符串长度</div><div class="line">@DecimalMin //数值最小值</div></pre></td></tr></table></figure>
<ul>
<li>校验结果保存，前一个表单/命令对象的校验结果保存在其后的入参中，这个校验结果的入参必须是一个BindingResult和Errors类型</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">public String handle(@Valid @ModelAtterbute(&quot;user&quot;) User user, BindingResult bindingResult, @Valid Dept dept, Errors depErrors)</div><div class="line">&#123;if(bindingResult.hasError()) return ...&#125;</div></pre></td></tr></table></figure>
<ul>
<li>页面显示错误<br>Spring MVC除了会将表单/命令对象的校验结果保存在对应的BindingResult或Errors中，还会将所有校验结果保存到“隐含模型”中。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;form:errors path=&quot;*&quot;/&gt; //显示表单对象所有的错误信息</div><div class="line">&lt;form:errors path=&quot;userName&quot; cssClass=&quot;errorClass&quot;/&gt; //显示userName属性的错误</div></pre></td></tr></table></figure>
<h3 id="4、视图和视图解析器"><a href="#4、视图和视图解析器" class="headerlink" title="4、视图和视图解析器"></a>4、视图和视图解析器</h3><p>请求方法执行完以后，最中返回一个ModelAndView对象，对于那些返回String、View或ModelMap等类型的处理方法，Spring MVC也会在内部将他们装配成一个ModelAndView对象，它包含了视图逻辑名和模型对象的信息。可以通过orderNo属性指定解析器的优先顺序，orderNo值越小优先级越高。</p>
<h4 id="4-1、视图解析器"><a href="#4-1、视图解析器" class="headerlink" title="4.1、视图解析器"></a>4.1、视图解析器</h4><p>视图解析器工作内涵：根据逻辑视图名和本地化对象得到一个视图对象。</p>
<h4 id="4-2、JSP和JSTL"><a href="#4-2、JSP和JSTL" class="headerlink" title="4.2、JSP和JSTL"></a>4.2、JSP和JSTL</h4><p>jsp是最常见的视图技术，使用InternalResourceViewResolver作为视图解析器。</p>
<h4 id="4-3、-模板视图"><a href="#4-3、-模板视图" class="headerlink" title="4.3、 模板视图"></a>4.3、 模板视图</h4><p>Spring Web上下文装配FreeMarker的基础设施和FreeMark视图解析器：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;bean class=&quot;org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer&quot;&gt;</div><div class="line">&lt;bean class=&quot;org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver&quot;&gt;</div></pre></td></tr></table></figure>
<h4 id="4-4、Excel"><a href="#4-4、Excel" class="headerlink" title="4.4、Excel"></a>4.4、Excel</h4><p>扩展Spring的AbstractExcelView 或 AbstractJExcelView，使用BeanNameViewResolver视图解析器。</p>
<h4 id="4-5、PDF"><a href="#4-5、PDF" class="headerlink" title="4.5、PDF"></a>4.5、PDF</h4><p>扩展AbstractOdfView，使用BeanNameViewResolver视图解析器。</p>
<h4 id="4-6、输出XML"><a href="#4-6、输出XML" class="headerlink" title="4.6、输出XML"></a>4.6、输出XML</h4><p>使用MarshallingView视图解析器，注入XStreamMarshaller，将模型数据转化为XML。</p>
<h4 id="4-7、-输出JSON"><a href="#4-7、-输出JSON" class="headerlink" title="4.7、 输出JSON"></a>4.7、 输出JSON</h4><p>Spring MVC的MappingJacksonJsonView借助Jackson框架的ObjectMapper将模型数据转化为JSON格式输出。</p>
<h4 id="4-8、混合使用多种视图技术"><a href="#4-8、混合使用多种视图技术" class="headerlink" title="4.8、混合使用多种视图技术"></a>4.8、混合使用多种视图技术</h4><p>ContentNegotiatingViewResolver根据请求所要求的MIME类型决定由哪个视图解析器负责解析，一般将其的优先级设置为最高。</p>
<h3 id="5、本地化解析"><a href="#5、本地化解析" class="headerlink" title="5、本地化解析"></a>5、本地化解析</h3><ul>
<li>AcceptHeaderLocaleResolver：根据HTTP报文头的Accept-Language参数确定本地化类型；</li>
<li>CookieLocaleResolver：根据指定的Cookie值确定本地化类型；</li>
<li>SessionLocaleResolver：根据Session中特定的属性值确定本地化类型；</li>
<li>LocaleChangeInterceptor：从请求参数中获取本次请求对应的本地化类型；</li>
</ul>
<h3 id="6、文件上传"><a href="#6、文件上传" class="headerlink" title="6、文件上传"></a>6、文件上传</h3><p>Spring MVC通过Jakarta Commons FileUpload技术实现了一个Multipartresolver实现类：CommonsMultipartResolver。</p>
<h3 id="7、杂项"><a href="#7、杂项" class="headerlink" title="7、杂项"></a>7、杂项</h3><h4 id="7-1、静态资源处理"><a href="#7-1、静态资源处理" class="headerlink" title="7.1、静态资源处理"></a>7.1、静态资源处理</h4><ul>
<li>采用<mvc:default-servlet-handler>将静态资源的处理经由Spring MVC框架交回Web应用服务器处理；</mvc:default-servlet-handler></li>
<li><mvc:resources mapping="" location=""> 由Spring MVC框架自己处理静态资源，并添加有用的附加值功能；</mvc:resources></li>
</ul>
<h4 id="7-2、装配拦截器"><a href="#7-2、装配拦截器" class="headerlink" title="7.2、装配拦截器"></a>7.2、装配拦截器</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;mvc:interceptors&gt;&lt;/mvc:interceptors&gt;</div></pre></td></tr></table></figure>
<h4 id="7-3、异常处理"><a href="#7-3、异常处理" class="headerlink" title="7.3、异常处理"></a>7.3、异常处理</h4><p>Spring MVC通过HandlerExceptionResolver处理程序的异常，包括处理器映射、数据绑定以及处理器执行时的异常。</p>
<ul>
<li>DeaufaultHandlerExceptionResolver 会将Spring MVC框架的异常转换为相应的相应状态码；</li>
<li>AnnotationMethodHandlerExceptionResolver 允许通过@ExceptionHandler的注解指定处理特定异常的方法；</li>
<li>SimpleMappingExceptionResolver 将异常类名映射为视图名，即发生异常时使用对应的视图报告异常；</li>
</ul>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/blog/categories/框架/">框架</a>
  </div>

        
  
  <div class="tags">
    <a href="/blog/tags/java/">java</a>, <a href="/blog/tags/spring/">spring</a>
  </div>

        <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more"></a>
    <a href="#" class="bds_qzone" data-cmd="qzone"></a>
    <a href="#" class="bds_tsina" data-cmd="tsina"></a>
    <a href="#" class="bds_tqq" data-cmd="tqq"></a>
    <a href="#" class="bds_renren" data-cmd="renren"></a>
    <a href="#" class="bds_weixin" data-cmd="weixin"></a>
</div>

<script>
    window._bd_share_config = {
        "common": {
            "bdSnsKey": {},
            "bdText": "",
            "bdMini": "2",
            "bdPic": "",
            "bdStyle": "0",
            "bdSize": "16"
        },
        "share": {},
        "image": {
            "viewList": ["qzone", "tsina", "tqq", "renren", "weixin"],
            "viewText": “分享到",
            "viewSize": "16"
        },
        "selectShare": {
            "bdContainerClass": null,
            "bdSelectMiniList": ["qzone", "tsina", "tqq", "renren", "weixin"]
        }
    };
    with(document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];
</script>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




<nav id="pagination" >
    
    <a href="/blog/2016/12/14/spring-5-单元测试/" class="alignleft prev" >上一页</a>
    
    
    <a href="/blog/2016/12/14/spring-3-数据访问/" class="alignright next" >下一页</a>
    
    <div class="clearfix"></div>
</nav>

<!-- 多说评论框 start -->
 <div class="ds-thread" data-thread-key="/blog/2016/12/14/spring-4-SpringMVC/" data-title="4-spring-SpringMVC" data-url="renwei.github.io/blog/2016/12/14/spring-4-SpringMVC/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"screnwei"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->
<section id="comment">
</section>



</div></div>
    <aside id="sidebar" class="alignright">
  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/blog/categories/hadoop/">hadoop</a><small>2</small></li>
  
    <li><a href="/blog/categories/jvm/">jvm</a><small>4</small></li>
  
    <li><a href="/blog/categories/多线程/">多线程</a><small>16</small></li>
  
    <li><a href="/blog/categories/技巧/">技巧</a><small>3</small></li>
  
    <li><a href="/blog/categories/搜索/">搜索</a><small>1</small></li>
  
    <li><a href="/blog/categories/框架/">框架</a><small>5</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/blog/tags/GC/" style="font-size: 10px;">GC</a> <a href="/blog/tags/aop/" style="font-size: 10px;">aop</a> <a href="/blog/tags/curl/" style="font-size: 10px;">curl</a> <a href="/blog/tags/flume/" style="font-size: 11.67px;">flume</a> <a href="/blog/tags/hadoop/" style="font-size: 13.33px;">hadoop</a> <a href="/blog/tags/ioc/" style="font-size: 10px;">ioc</a> <a href="/blog/tags/java/" style="font-size: 16.67px;">java</a> <a href="/blog/tags/jvm/" style="font-size: 18.33px;">jvm</a> <a href="/blog/tags/jvm调优/" style="font-size: 10px;">jvm调优</a> <a href="/blog/tags/linux/" style="font-size: 11.67px;">linux</a> <a href="/blog/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/blog/tags/spring/" style="font-size: 16.67px;">spring</a> <a href="/blog/tags/tomcat/" style="font-size: 10px;">tomcat</a> <a href="/blog/tags/单元测试/" style="font-size: 10px;">单元测试</a> <a href="/blog/tags/基础算法/" style="font-size: 10px;">基础算法</a> <a href="/blog/tags/多线程/" style="font-size: 20px;">多线程</a> <a href="/blog/tags/技巧/" style="font-size: 15px;">技巧</a> <a href="/blog/tags/机器学习/" style="font-size: 10px;">机器学习</a>
  </div>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2017 任伟
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.useso.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/blog/js/jquery.imagesloaded.min.js"></script>
<script src="/blog/js/gallery.js"></script>




<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


</body>
</html>
